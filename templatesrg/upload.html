{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="upload-section">
        <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —Ñ–∞–π–ª–∞</h2>
        
        <div class="upload-info">
            <div class="info-card">
                <h3>üìã –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞</h3>
                <p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è CSV –∏ Excel —Ñ–∞–π–ª—ã —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:</p>
                <ul>
                    <li><strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:</strong> last_name, first_name, user_type</li>
                    <li><strong>–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:</strong> middle_name, group_name</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>üë• –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                <ul>
                    <li><code>teacher</code> - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</li>
                    <li><code>student</code> - –°—Ç—É–¥–µ–Ω—Ç (—Ç—Ä–µ–±—É–µ—Ç—Å—è group_name)</li>
                </ul>
            </div>
        </div>

        <form method="post" action="/v2/upload" enctype="multipart/form-data" class="upload-form">
            <div class="form-group">
                <label for="file" class="file-label">
                    <span class="file-button">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span>
                    <span class="file-name" id="file-name">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
                </label>
                <input type="file" id="file" name="file" accept=".csv,.xlsx,.xls" required class="file-input">
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
                <a href="/users" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
            </div>
        </form>

        <div class="example-section">
            <h3>–ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞:</h3>
            <div class="code-example">
                <pre><code>last_name,first_name,middle_name,user_type,group_name
–ò–≤–∞–Ω–æ–≤,–ò–≤–∞–Ω,–ò–≤–∞–Ω–æ–≤–∏—á,teacher,
–ü–µ—Ç—Ä–æ–≤–∞,–ú–∞—Ä–∏—è,–°–µ—Ä–≥–µ–µ–≤–Ω–∞,student,–ò–¢-21
–°–∏–¥–æ—Ä–æ–≤,–ê–ª–µ–∫—Å–µ–π,,student,–§–ò–ó-22</code></pre>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('file').addEventListener('change', function(e) {
    const fileName = document.getElementById('file-name');
    if (this.files.length > 0) {
        fileName.textContent = this.files[0].name;
    } else {
        fileName.textContent = '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω';
    }
});
</script>
{% endblock %}